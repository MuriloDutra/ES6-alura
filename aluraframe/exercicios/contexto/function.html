<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

    <h1>TITULO</h1>
    <p>PARAGRAFO</p>
    <div>DADOS</div>

    <script>
        console.log(this); // é window

        let exibeConteudo = () => {
            console.log(this);
            alert(this.textContent); //exibe o conteúdo de 'this'
        };

        $ = document.querySelector.bind(document);//isolando o comando em uma variável, mas ligando a função a seu 'this' original usando a função bind()


        $('h1').addEventListener('click', exibeConteudo);

        $('p').addEventListener('click', exibeConteudo);

        $('div').addEventListener('click', exibeConteudo);

        
        /*  USANDO 'FUNCTION' NORMAIS
            Repare que o this é dinâmico, ou seja, seu valor é definido no momento em que a função é chamada, 
            jamais no momento em que é declarada. Quando clicamos no h1, o this será este elemento, quando clicamos em p, o this será o elemento.
            Ainda bem que isso acontece, pois se o this não fosse dinâmico, não conseguiríamos escrever uma função genérica como a nossa.
        
                --//--

            USANDO 'ARROWS FUNCTIONS'
            Diferente de uma função, que possui um this dinâmico, uma arrow function possui um this estático, ou seja,
            que nunca muda e que é determinado no momento em que é declarado! Veja que quando declararmos nossa arrow function,
            ela vai considerar o this do local onde é declarada. Sendo assim, como o this dentro da tag <script> é window, ela adotará window.

                --//--

            RESUMINDO:

            O this de uma função é dinâmico, isto é, seu valor é determinado no momento em que a função é chamada. Como o this é dinâmico,
            é possível usar artifícios da linguagem, como a API Reflect, para alterá-lo se assim desejarmos.

            O this de uma arrow function é léxico, isto é, seu valor é determinado no local onde a arrow function for definida, ela não cria um novo this.
            O this de uma arrow function não pode ser alterado, mesmo se usarmos recursos da linguagem, como a API Reflect.
        */
    </script>
</body>
</html>